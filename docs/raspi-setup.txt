(0) Initial setup, not detailed
==========================================

Headless (minimal) OS
First WiFi network
SSH with key
Locale: en_US
Updates
Tailscale
MC

Additional WiFi networks:
sudo nmcli connection add type wifi con-name "Schnauze" ifname wlan0 ssid "Schnauze"
sudo nmcli connection modify "Schnauze" wifi-sec.key-mgmt wpa-psk wifi-sec.psk "xx_PASSWORD_xx"

To connect: sudo nmcli connection up "Schnauze"

Disable on-screen login prompt:
sudo systemctl disable getty@tty1.service
sudo systemctl stop getty@tty1.service


(1) Composite display
==========================================

In /boot/firmware/config.txt ensure this line:
dtoverlay=vc4-kms-v3d,composite

In /boot/firmware/cmdline.txt add (after space):
vc4.tv_norm=PAL

Reboot

(2) I2C enabled
==========================================

sudo raspi-config nonint get_i2c
=> 0 means enabled

To enable:
sudo raspi-config nonint do_i2c 0

ls /dev/i2*
=> it will be i2c-1 on the Raspi 4B

For i2cdetect:
sudo apt-get install -y i2c-tools

To list:
sudo i2cdetect -y 1


(3) System creature comforts
==========================================
mc
lazygit


(4) Build prerequisites; build shader code
==========================================

VSCode extensions:
When remote editing over SSH: C/C++ Extension Pack (ms-vscode.cpptools-extension-pack)
This is needed for clang-format to work

Optional extensions:
- CMake Tools (ms-vscode.cmake-tools)
- Shader languages support for VSCode (slevesque.shader)
- WebGL GLSL Editor (raczzalan.webgl-glsl-editor)

sudo apt install -y build-essential git cmake pkg-config clang-format
sudo apt install -y libegl1-mesa-dev libgbm-dev libdrm-dev

git clone https://xx_GITHUB_KEY_xx@github.com/gugray/InterGalacticReceiver
git config --global user.name "xx_NAME_xx"
git config --global user.email "you@example.com"

Build & run

For shader syntax hilighting with GLSL Lint: install glslang

(4) Splash screen service for funsies
==========================================

sudo apt install fbi
sudo usermod -aG video gabor

fbi -d /dev/fb0 -a -noverbose zigray.jpg
=> Put into /opt/splash.sh

sudo nano /etc/systemd/system/startupsplash.service
==>
[Unit]
Description=Startup Splash Screen
After=network.target

[Service]
ExecStart=/opt/splash/splash.sh
WorkingDirectory=/opt/splash
StandardOutput=inherit
StandardError=inherit
Restart=always
User=root

[Install]
WantedBy=multi-user.target
<==

sudo systemctl daemon-reload
sudo systemctl enable startupsplash.service
sudo systemctl start startupsplash.service


